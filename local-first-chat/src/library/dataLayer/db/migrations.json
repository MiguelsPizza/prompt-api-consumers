[
  {
    "sql": [
      "CREATE TABLE \"conversation_messages\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"conversation_id\" text,\n\t\"position\" integer,\n\t\"role\" text,\n\t\"content\" text,\n\t\"created_at\" text,\n\t\"updated_at\" text,\n\t\"temperature_at_creation\" real,\n\t\"top_k_at_creation\" real,\n\t\"user_id\" text\n);\n",
      "\nCREATE TABLE \"conversations\" (\n\t\"id\" text PRIMARY KEY NOT NULL,\n\t\"name\" text,\n\t\"conversation_summary\" text,\n\t\"system_prompt\" text,\n\t\"created_at\" text,\n\t\"updated_at\" text,\n\t\"top_k\" real,\n\t\"temperature\" real,\n\t\"user_id\" text\n);\n",
      "\nCREATE INDEX \"idx_messages_conversation\" ON \"conversation_messages\" USING btree (\"conversation_id\");",
      "\nCREATE INDEX \"idx_messages_position\" ON \"conversation_messages\" USING btree (\"position\");",
      "\nCREATE INDEX \"idx_messages_conv_position\" ON \"conversation_messages\" USING btree (\"conversation_id\",\"position\");",
      "\nCREATE INDEX \"idx_messages_created\" ON \"conversation_messages\" USING btree (\"created_at\");",
      "\nCREATE INDEX \"idx_messages_user_created\" ON \"conversation_messages\" USING btree (\"user_id\",\"created_at\");",
      "\nCREATE INDEX \"idx_conversations_user\" ON \"conversations\" USING btree (\"user_id\");",
      "\nCREATE INDEX \"idx_conversations_updated\" ON \"conversations\" USING btree (\"updated_at\");",
      "\nCREATE INDEX \"idx_conversations_user_updated\" ON \"conversations\" USING btree (\"user_id\",\"updated_at\");"
    ],
    "bps": true,
    "folderMillis": 1734143878584,
    "hash": "b03ffd5b1752a5bcde035b20c30f54c1d049241aa48ab1847acdcf843196504e"
  },
  {
    "sql": [
      "DROP INDEX \"idx_messages_conversation\";",
      "\nDROP INDEX \"idx_messages_conv_position\";",
      "\nDROP INDEX \"idx_messages_created\";",
      "\nDROP INDEX \"idx_messages_user_created\";",
      "\nDROP INDEX \"idx_conversations_user\";",
      "\nDROP INDEX \"idx_conversations_updated\";",
      "\nDROP INDEX \"idx_conversations_user_updated\";",
      "\nALTER TABLE \"conversations\" ALTER COLUMN \"temperature\" SET NOT NULL;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"conversationId\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"createdAt\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"updatedAt\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"temperatureAtCreation\" real;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"topKAtCreation\" real;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"userId\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"conversationSummary\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"systemPrompt\" text DEFAULT '';",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"createdAt\" text NOT NULL;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"updatedAt\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"topK\" real NOT NULL;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"userId\" text NOT NULL;",
      "\nCREATE INDEX \"idx_messages_conversation\" ON \"conversation_messages\" USING btree (\"conversationId\");",
      "\nCREATE INDEX \"idx_messages_conv_position\" ON \"conversation_messages\" USING btree (\"conversationId\",\"position\");",
      "\nCREATE INDEX \"idx_messages_created\" ON \"conversation_messages\" USING btree (\"createdAt\");",
      "\nCREATE INDEX \"idx_messages_user_created\" ON \"conversation_messages\" USING btree (\"userId\",\"createdAt\");",
      "\nCREATE INDEX \"idx_conversations_user\" ON \"conversations\" USING btree (\"userId\");",
      "\nCREATE INDEX \"idx_conversations_updated\" ON \"conversations\" USING btree (\"updatedAt\");",
      "\nCREATE INDEX \"idx_conversations_user_updated\" ON \"conversations\" USING btree (\"userId\",\"updatedAt\");",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"conversation_id\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"created_at\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"updated_at\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"temperature_at_creation\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"top_k_at_creation\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"user_id\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"conversation_summary\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"system_prompt\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"created_at\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"updated_at\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"top_k\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"user_id\";"
    ],
    "bps": true,
    "folderMillis": 1734147319691,
    "hash": "65fb02d91175f938c2341e2254babe334e8678038d22593793c0faad0219e2d2"
  },
  {
    "sql": [
      "DROP INDEX \"idx_messages_conversation\";",
      "\nDROP INDEX \"idx_messages_conv_position\";",
      "\nDROP INDEX \"idx_messages_created\";",
      "\nDROP INDEX \"idx_messages_user_created\";",
      "\nDROP INDEX \"idx_conversations_user\";",
      "\nDROP INDEX \"idx_conversations_updated\";",
      "\nDROP INDEX \"idx_conversations_user_updated\";",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"conversation_id\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"created_at\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"updated_at\" text;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"temperature_at_creation\" real;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"top_k_at_creation\" real;",
      "\nALTER TABLE \"conversation_messages\" ADD COLUMN \"user_id\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"conversation_summary\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"system_prompt\" text DEFAULT '';",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"created_at\" text NOT NULL;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"updated_at\" text;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"top_k\" real NOT NULL;",
      "\nALTER TABLE \"conversations\" ADD COLUMN \"user_id\" text NOT NULL;",
      "\nCREATE INDEX \"idx_messages_conversation\" ON \"conversation_messages\" USING btree (\"conversation_id\");",
      "\nCREATE INDEX \"idx_messages_conv_position\" ON \"conversation_messages\" USING btree (\"conversation_id\",\"position\");",
      "\nCREATE INDEX \"idx_messages_created\" ON \"conversation_messages\" USING btree (\"created_at\");",
      "\nCREATE INDEX \"idx_messages_user_created\" ON \"conversation_messages\" USING btree (\"user_id\",\"created_at\");",
      "\nCREATE INDEX \"idx_conversations_user\" ON \"conversations\" USING btree (\"user_id\");",
      "\nCREATE INDEX \"idx_conversations_updated\" ON \"conversations\" USING btree (\"updated_at\");",
      "\nCREATE INDEX \"idx_conversations_user_updated\" ON \"conversations\" USING btree (\"user_id\",\"updated_at\");",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"conversationId\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"createdAt\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"updatedAt\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"temperatureAtCreation\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"topKAtCreation\";",
      "\nALTER TABLE \"conversation_messages\" DROP COLUMN \"userId\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"conversationSummary\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"systemPrompt\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"createdAt\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"updatedAt\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"topK\";",
      "\nALTER TABLE \"conversations\" DROP COLUMN \"userId\";"
    ],
    "bps": true,
    "folderMillis": 1734148041284,
    "hash": "7eb787c4bba5ecc700d00a29a0e07ce5c15378f3697f4c0404dba15726f4ea9d"
  }
]
